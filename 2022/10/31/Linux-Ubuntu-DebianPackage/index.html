<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="LaunchPad &amp; Debian packagingPGP(Pretty Good Privacy) GPG Operation  Generate PGP key (Location: ~&#x2F;.gnupg&#x2F;pubring.kbx) 1gpg --gen-key  List PGP keys 1gpg --list-sigs  Delete PGP keys 12gp">
<meta property="og:type" content="article">
<meta property="og:title" content="Packing DEB package">
<meta property="og:url" content="http://yoursite.com/2022/10/31/Linux-Ubuntu-DebianPackage/index.html">
<meta property="og:site_name" content="Neil&#39;s Blog">
<meta property="og:description" content="LaunchPad &amp; Debian packagingPGP(Pretty Good Privacy) GPG Operation  Generate PGP key (Location: ~&#x2F;.gnupg&#x2F;pubring.kbx) 1gpg --gen-key  List PGP keys 1gpg --list-sigs  Delete PGP keys 12gp">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2022-10-31T02:18:57.000Z">
<meta property="article:modified_time" content="2022-10-31T02:18:57.259Z">
<meta property="article:author" content="Neil Lee">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2022/10/31/Linux-Ubuntu-DebianPackage/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-tw'
  };
</script>

  <title>Packing DEB package | Neil's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Neil's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/10/31/Linux-Ubuntu-DebianPackage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Packing DEB package
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-31 10:18:57" itemprop="dateCreated datePublished" datetime="2022-10-31T10:18:57+08:00">2022-10-31</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Ubuntu/" itemprop="url" rel="index"><span itemprop="name">Ubuntu</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="LaunchPad-amp-Debian-packaging"><a href="#LaunchPad-amp-Debian-packaging" class="headerlink" title="LaunchPad &amp; Debian packaging"></a>LaunchPad &amp; Debian packaging</h1><h2 id="PGP-Pretty-Good-Privacy"><a href="#PGP-Pretty-Good-Privacy" class="headerlink" title="PGP(Pretty Good Privacy)"></a>PGP(Pretty Good Privacy)</h2><ul>
<li><p>GPG Operation</p>
<ul>
<li><p>Generate PGP key (Location: ~&#x2F;.gnupg&#x2F;pubring.kbx)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --gen-key</span><br></pre></td></tr></table></figure>
</li>
<li><p>List PGP keys</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --list-sigs</span><br></pre></td></tr></table></figure>
</li>
<li><p>Delete PGP keys</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gpg --delete-secret-keys &lt;public key&gt;</span><br><span class="line">gpg --delete-keys &lt;public key&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Send key to server</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gpg --send-keys &lt;Key ID&gt; --keyserver &lt;keyserver&gt; &lt;Key ID&gt; </span><br><span class="line"><span class="comment"># Example: gpg --send-keys --keyserver keyserver.ubuntu.com A86383119836BF22</span></span><br><span class="line">gpg --search-key &lt;Key ID&gt; --keyserver &lt;keyserver&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Reference</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://ubuntuqa.com/zh-tw/article/524.html">https://ubuntuqa.com/zh-tw/article/524.html</a></li>
<li><a target="_blank" rel="noopener" href="https://help.ubuntu.com/community/GnuPrivacyGuardHowto">https://help.ubuntu.com/community/GnuPrivacyGuardHowto</a></li>
<li><a target="_blank" rel="noopener" href="https://linuxhint.com/gpg-command-ubuntu/">https://linuxhint.com/gpg-command-ubuntu/</a></li>
<li><a target="_blank" rel="noopener" href="https://ubuntuqa.com/zh-tw/article/11680.html">https://ubuntuqa.com/zh-tw/article/11680.html</a></li>
</ul>
</li>
</ul>
<h2 id="LaunchPad"><a href="#LaunchPad" class="headerlink" title="LaunchPad"></a>LaunchPad</h2><ul>
<li><p>Apply Ubuntu one account. Remember the registed [username]</p>
<ul>
<li>Reference<ul>
<li><a target="_blank" rel="noopener" href="https://help.launchpad.net/YourAccount/NewAccount">https://help.launchpad.net/YourAccount/NewAccount</a></li>
</ul>
</li>
<li>Personal launchpad homepage<ul>
<li><a target="_blank" rel="noopener" href="https://launchpad.net/~[username]">https://launchpad.net/~[username]</a></li>
</ul>
</li>
</ul>
</li>
<li><p>PPA (Personal Package Archives)</p>
<ul>
<li>Register PGP<ul>
<li><p>Use the GPG tool to generatePGP Key. Upload it to Ubuntu keyserver</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gpg --gen-key</span><br><span class="line">gpg --list-sigs</span><br><span class="line"><span class="comment"># 記住sig:[Key ID]與pub:[Public key]</span></span><br><span class="line">gpg</span><br><span class="line">gpg --send-keys --keyserver keyserver.ubuntu.com [Key ID]</span><br><span class="line">gpg --search-key [[Key ID] --keyserver keyserver.ubuntu.com</span><br><span class="line"><span class="comment"># 要稍微等幾分鐘,才搜尋的到</span></span><br></pre></td></tr></table></figure>

<p>The Web page  <a target="_blank" rel="noopener" href="https://keyserver.ubuntu.com/">https://keyserver.ubuntu.com/</a> can search the uploaded PGP. Fill [Key ID] to search it.</p>
</li>
<li><p>Open <a target="_blank" rel="noopener" href="https://launchpad.net/~[username]/+editpgpkeys">https://launchpad.net/~[username]/+editpgpkeys</a> to regist uploaded PGP.</p>
<ol>
<li><p>Fill the uploaded [Public key] in keyserver to <strong>Fingerprint</strong> Field.</p>
</li>
<li><p>Push <strong>Import Key</strong> button</p>
</li>
<li><p>Open an email with subject <strong>Launchpad: Confirm your OpenPGP Key</strong>. Copy the following text and save it as the <strong>pgpmsg.txt</strong>.</p>
 <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-----BEGIN PGP MESSAGE-----</span><br><span class="line">...</span><br><span class="line">-----END PGP MESSAGE-----</span><br></pre></td></tr></table></figure>
</li>
<li><p>Use the GPG tool to decrypt it. There is an message contain a URL. Open the URL to regist the imported PGP key.</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg -d pgpmsg.txt</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Git</p>
<ul>
<li><p>Regist SSH</p>
<ul>
<li>Tutorial<br><a target="_blank" rel="noopener" href="https://help.launchpad.net/YourAccount/CreatingAnSSHKeyPair">https://help.launchpad.net/YourAccount/CreatingAnSSHKeyPair</a></li>
</ul>
</li>
<li><p>Operation</p>
<ul>
<li>Tutorial: <a target="_blank" rel="noopener" href="https://help.launchpad.net/Code/Git">https://help.launchpad.net/Code/Git</a></li>
<li>Push and create a remote repository without a project.<ul>
<li><p>vi .&#x2F;git&#x2F;config</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">email = &lt;email&gt;</span><br><span class="line">name = &lt;full name&gt;</span><br><span class="line">[url &quot;git+ssh://&lt;username&gt;@git.launchpad.net/&quot;]</span><br><span class="line">    insteadof = lp:</span><br><span class="line">[remote &quot;launchpad&quot;]</span><br><span class="line">url = lp:~&lt;username&gt;/+git/&lt;repo&gt;</span><br><span class="line">fetch = +refs/heads/*:refs/remotes/launchpad/*</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add launchpad lp:~&lt;username&gt;/&lt;repo&gt;</span><br><span class="line">git push launchpad</span><br></pre></td></tr></table></figure>
</li>
<li><p>Launchpad git URL <a target="_blank" rel="noopener" href="https://code.launchpad.net/~[username]/+git/REPO">https://code.launchpad.net/~[username]/+git/REPO</a></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="DEB"><a href="#DEB" class="headerlink" title="DEB"></a>DEB</h2><ul>
<li><p>Debian 套件</p>
<ul>
<li>deb 檔案 (二進制套件)</li>
<li>以有效且合宜的方法來向使用者發佈軟體</li>
<li>是兩個最常見的套件格式之一 (另一個為 RPM)</li>
</ul>
</li>
<li><p>Reference</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.debian.org/doc/manuals/packaging-tutorial/packaging-tutorial.zh_TW.pdf">https://www.debian.org/doc/manuals/packaging-tutorial/packaging-tutorial.zh_TW.pdf</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-hk/Deb">https://zh.wikipedia.org/zh-hk/Deb</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.ubunetu-tw.org/index.php?title=DebPackaging">https://wiki.ubunetu-tw.org/index.php?title=DebPackaging</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.toright.com/posts/4434/deb-package-%E5%A5%97%E4%BB%B6%E5%B0%81%E8%A3%9D%E6%95%99%E5%AD%B8.html">https://blog.toright.com/posts/4434/deb-package-%E5%A5%97%E4%BB%B6%E5%B0%81%E8%A3%9D%E6%95%99%E5%AD%B8.html</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.toright.com/posts/4434/deb-package-%e5%a5%97%e4%bb%b6%e5%b0%81%e8%a3%9d%e6%95%99%e5%ad%b8.html">https://blog.toright.com/posts/4434/deb-package-%e5%a5%97%e4%bb%b6%e5%b0%81%e8%a3%9d%e6%95%99%e5%ad%b8.html</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.debian.org/MaintainerScripts">https://wiki.debian.org/MaintainerScripts</a></li>
<li><a target="_blank" rel="noopener" href="https://tldp.org/HOWTO/html_single/Debian-Binary-Package-Building-HOWTO/">https://tldp.org/HOWTO/html_single/Debian-Binary-Package-Building-HOWTO/</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-tw/Ar_(Unix">https://zh.wikipedia.org/zh-tw/Ar_(Unix</a>)</li>
<li><a target="_blank" rel="noopener" href="https://samwhelp.github.io/book-ubuntu-basic-skill/book/content/package/how-to-extract-package.html">https://samwhelp.github.io/book-ubuntu-basic-skill/book/content/package/how-to-extract-package.html</a></li>
<li><a target="_blank" rel="noopener" href="https://packaging.ubuntu.com/html/debian-dir-overview.html">https://packaging.ubuntu.com/html/debian-dir-overview.html</a></li>
<li><a target="_blank" rel="noopener" href="https://packaging.ubuntu.com/html/packaging-new-software.html">https://packaging.ubuntu.com/html/packaging-new-software.html</a></li>
<li><a target="_blank" rel="noopener" href="https://packaging.ubuntu.com/html/">https://packaging.ubuntu.com/html/</a><br>e</li>
</ul>
</li>
<li><p>apt-file: search a file’s DEB package source<br><a target="_blank" rel="noopener" href="https://shengyu7697.github.io/ubuntu-apt-file/">https://shengyu7697.github.io/ubuntu-apt-file/</a></p>
</li>
<li><p>How to downoad a DEB package.<br><a target="_blank" rel="noopener" href="http://samwhelp.github.io/blog/read/linux/ubuntu/package/how-to-download-package/">http://samwhelp.github.io/blog/read/linux/ubuntu/package/how-to-download-package/</a></p>
</li>
<li><p>How to get a DEB source package.<br>Hit: Open “livepatch”-&gt;”軟體與更新”-&gt;”Ubuntu軟體”-&gt;可由網際網路下載”源碼” first.<br><a target="_blank" rel="noopener" href="https://www.cyberciti.biz/faq/how-to-get-source-code-of-package-using-the-apt-command-on-debian-or-ubuntu/">https://www.cyberciti.biz/faq/how-to-get-source-code-of-package-using-the-apt-command-on-debian-or-ubuntu/</a></p>
</li>
<li><p>DEB Binary package <a target="_blank" rel="noopener" href="https://www.rocksaying.tw/archives/11239791.html">https://www.rocksaying.tw/archives/11239791.html</a></p>
</li>
<li><p>DEB source package</p>
<ul>
<li><p>Reference<br><a target="_blank" rel="noopener" href="http://www.unixlinux.online/unixlinux/linuxjc/linuxjc/201702/40361.html">http://www.unixlinux.online/unixlinux/linuxjc/linuxjc/201702/40361.html</a><br><a target="_blank" rel="noopener" href="https://www.debian.org/doc/manuals/packaging-tutorial/packaging-tutorial.zh_TW.pdf">https://www.debian.org/doc/manuals/packaging-tutorial/packaging-tutorial.zh_TW.pdf</a>  </p>
</li>
<li><p>.dsc file: 3.0 (quilt) - A Debian 3rd package format</p>
</li>
<li><p>dhmake</p>
<ul>
<li>single: generate single library</li>
<li>independent: generate single library (arch-independent)</li>
</ul>
</li>
<li><p>dh</p>
<ul>
<li><p>dh_make will generate debian folder with default rules, and would not replace debian folder’s existed files.</p>
</li>
<li><p>rules (source&#x2F;debian&#x2F;rules)</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.796t.com/content/1547590709.html">https://www.796t.com/content/1547590709.html</a></li>
<li>rules usage: <code>man dh</code></li>
</ul>
</li>
<li><p>Append install target by override:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/make -f</span></span><br><span class="line">%:</span><br><span class="line">dh <span class="variable">$@</span></span><br><span class="line"></span><br><span class="line">override_dh_auto_clean:</span><br><span class="line">        [ ! -f Makefile ] || $(MAKE) distclean</span><br><span class="line"></span><br><span class="line">override_dh_installdocs:</span><br><span class="line">        dh_installdocs NEWS</span><br><span class="line"></span><br><span class="line">override_dh_auto_install:</span><br><span class="line">        dh_auto_install</span><br><span class="line">        dh_install testing.sh usr/bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>execute_after_<target> Old dh version dosn’t support it Use previous <strong>override</strong> for it.</p>
</li>
<li><p>maintainer script in source&#x2F;debian&#x2F;. Example: Create source&#x2F;debian&#x2F;postinst and debuild will include it in the binary package</p>
</li>
<li><p>W: hello source: maintainer-script-lacks-debhelper-token debian&#x2F;postinst</p>
<ul>
<li>Solution: Put the <code>#DEBHELPER#</code> in the postinst file’s last line.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>debuild</p>
<ul>
<li><p>Modify changelog<br>Hint: Only <code>dch --increment/--newversin</code> will use the system enviroment variable DEBEMAIL&#x2F;DEBFULLNAME</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> DEBFULLNAME=&lt;fullname&gt;</span><br><span class="line"><span class="built_in">export</span> DEBEMAIL=&lt;email&gt;</span><br><span class="line"><span class="built_in">export</span> DEBKEY=&lt;Key ID&gt;</span><br><span class="line">dch -i <span class="comment"># changelog 會是UNRELEASED,還在修改中沒要上傳時,先保持這個狀態</span></span><br><span class="line"><span class="comment"># 改code,加資料</span></span><br><span class="line">debuild -S -k<span class="variable">$DEBKEY</span></span><br><span class="line">dch -r <span class="comment"># changelog 改成unstable</span></span><br><span class="line">debsign -k <span class="variable">$DEBKEY</span> hello_2.10-2ubuntu3_source.changes</span><br><span class="line">dput ppa:neillee1210/home-test hello_2.10-2ubuntu3_source.changes</span><br></pre></td></tr></table></figure>
</li>
<li><p>Error from debuild<br>Solution: Do “dpkg-source –commit” first. This will put modification&#x2F;patches to source&#x2F;debian&#x2F;patches.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dpkg-source: 資訊: using <span class="built_in">source</span> format <span class="string">&#x27;3.0 (quilt)&#x27;</span></span><br><span class="line">dpkg-source: 資訊: building hello using existing ./hello_2.10.orig.tar.gz</span><br><span class="line">dpkg-source: 警告: executable mode 0775 of <span class="string">&#x27;test.sh&#x27;</span> will not be represented <span class="keyword">in</span> diff</span><br><span class="line">dpkg-source: 資訊: <span class="built_in">local</span> changes detected, the modified files are:</span><br><span class="line">hello-2.10/test.sh</span><br><span class="line">dpkg-source: 錯誤: aborting due to unexpected upstream changes, see /tmp/hello_2.10-2ubuntu3.diff.2ggaQY</span><br><span class="line">dpkg-source: 資訊: you can integrate the <span class="built_in">local</span> changes with dpkg-source --commit</span><br><span class="line">dpkg-buildpackage: 錯誤: dpkg-source -b . subprocess returned <span class="built_in">exit</span> status 2</span><br></pre></td></tr></table></figure>
</li>
<li><p>Verification</p>
<ol>
<li><p>(Error) Error: signing key fingerprint does not exist<br>Root cause: Ubuntu PPA is still building.<br>Solution: It will disapear after the build Status became “All builds were built successfully.”</p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Published</th>
<th>Status</th>
<th>Series</th>
<th>Section</th>
<th>Build Status</th>
</tr>
</thead>
<tbody><tr>
<td>hello - 2.10-2ubuntu3  (changes file)</td>
<td>2 minutes ago</td>
<td>Published</td>
<td>Focal</td>
<td>Devel</td>
<td>All builds were built successfully.</td>
</tr>
</tbody></table>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">neil@neil-nb:~/Workspace/Canocial/hello-deb-source-p1$ sudo add-apt-repository ppa:neillee1210/home-test</span><br><span class="line"></span><br><span class="line">更多資訊：&lt;https://launchpad.net/~neillee1210/+archive/ubuntu/home-test&gt;</span><br><span class="line">請按下 [ENTER] 繼續或 Ctrl-C 取消加入。</span><br><span class="line"></span><br><span class="line">Error: signing key fingerprint does not exist </span><br><span class="line">Failed to add key.</span><br></pre></td></tr></table></figure>
</li>
<li><p>(Error) Error: 403  Forbidden<br> Root cause: Ubuntu PPA doesn’t publish DEB package.<br> Solution:  It will disapear after the build Status became “Published”</p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Published</th>
<th>Status</th>
<th>Series</th>
<th>Section</th>
<th>Build Status</th>
</tr>
</thead>
<tbody><tr>
<td>hello - 2.10-2ubuntu3  (changes file)</td>
<td>2 minutes ago</td>
<td>Published</td>
<td>Focal</td>
<td>Devel</td>
<td>All builds were built successfully.</td>
</tr>
</tbody></table>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">neil@neil-nb:~/Downloads$ sudo add-apt-repository ppa:neillee1210/home-test</span><br><span class="line">更多資訊：&lt;https://launchpad.net/~neillee1210/+archive/ubuntu/home-test&gt;</span><br><span class="line">請按下 [ENTER] 繼續或 Ctrl-C 取消加入。</span><br><span class="line"></span><br><span class="line">已有:1 &lt;https://dl.google.com/linux/chrome/deb&gt; stable InRelease</span><br><span class="line">已有:2 &lt;http://packages.microsoft.com/repos/code&gt; stable InRelease</span><br><span class="line">已有:3 &lt;https://repo.steampowered.com/steam&gt; stable InRelease</span><br><span class="line">已有:4 &lt;https://download.mono-project.com/repo/ubuntu&gt; stable-bionic InRelease</span><br><span class="line">已有:5 &lt;https://packages.microsoft.com/repos/ms-teams&gt; stable InRelease</span><br><span class="line">已有:6 &lt;http://tw.archive.ubuntu.com/ubuntu&gt; focal InRelease</span><br><span class="line">已有:7 &lt;http://tw.archive.ubuntu.com/ubuntu&gt; focal-updates InRelease</span><br><span class="line">已有:8 &lt;http://tw.archive.ubuntu.com/ubuntu&gt; focal-backports InRelease</span><br><span class="line">已有:9 &lt;https://download.docker.com/linux/ubuntu&gt; focal InRelease</span><br><span class="line">已有:10 &lt;http://ppa.launchpad.net/longsleep/golang-backports/ubuntu&gt; focal InRelease</span><br><span class="line">下載:11 &lt;http://security.ubuntu.com/ubuntu&gt; focal-security InRelease [114 kB]</span><br><span class="line">已有:12 &lt;http://archive.ubuntu.com/ubuntu&gt; focal InRelease</span><br><span class="line">錯誤:13 &lt;http://ppa.launchpad.net/neillee1210/home-test/ubuntu&gt; focal InRelease</span><br><span class="line">  403  Forbidden [IP: 185.125.190.52 80]</span><br><span class="line">已有:14 &lt;http://ppa.launchpad.net/yannubuntu/boot-repair/ubuntu&gt; focal InRelease</span><br><span class="line">正在讀取套件清單... 完成</span><br><span class="line">E: 無法取得 &lt;http://ppa.launchpad.net/neillee1210/home-test/ubuntu/dists/focal/InRelease，403&gt;  Forbidden [IP: 185.125.190.52 80]</span><br><span class="line">E: The repository <span class="string">&#x27;&lt;http://ppa.launchpad.net/neillee1210/home-test/ubuntu&gt; focal InRelease&#x27;</span> is not signed.</span><br><span class="line">N: Updating from such a repository can<span class="string">&#x27;t be done securely, and is therefore disabled by default.</span></span><br><span class="line"><span class="string">N: See apt-secure(8) manpage for repository creation and user configuration details.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">commit e69bc87d1d38269515eb0e3dea9fe940e70b847f (HEAD -&gt; master)</span></span><br><span class="line"><span class="string">Author: Neil Lee &lt;neil.lee@adlinktech.com&gt;</span></span><br><span class="line"><span class="string">Date:   Fri Aug 12 22:59:49 2022 +0800</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>(Error) Got the following error after git clone or checkout source folder and build source by <code>./configure;make</code> in the source folder.<br>Root caluse: Git will not reserve files’ timestamp. After clone or checkout files. the autotool’s related files and source code’s build sequence will be changed. It will cause the building error.</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CDPATH=<span class="string">&quot;<span class="variable">$&#123;ZSH_VERSION+.&#125;</span>:&quot;</span> &amp;&amp; <span class="built_in">cd</span> . &amp;&amp; /bin/bash /home/neil/Workspace/Canocial/hello-deb-source/hello-2.10/build-aux/missing aclocal-1.14 -I m4</span><br><span class="line">/home/neil/Workspace/Canocial/hello-deb-source/hello-2.10/build-aux/missing: line 81: aclocal-1.14: <span class="built_in">command</span> not found</span><br><span class="line">WARNING: <span class="string">&#x27;aclocal-1.14&#x27;</span> is missing on your system.</span><br><span class="line">        You should only need it <span class="keyword">if</span> you modified <span class="string">&#x27;acinclude.m4&#x27;</span> or</span><br><span class="line">        <span class="string">&#x27;configure.ac&#x27;</span> or m4 files included by <span class="string">&#x27;configure.ac&#x27;</span>.</span><br><span class="line">        The <span class="string">&#x27;aclocal&#x27;</span> program is part of the GNU Automake package:</span><br><span class="line">        &lt;http://www.gnu.org/software/automake&gt;</span><br><span class="line">        It also requires GNU Autoconf, GNU m4 and Perl <span class="keyword">in</span> order to run:</span><br><span class="line">        &lt;http://www.gnu.org/software/autoconf&gt;</span><br><span class="line">        &lt;http://www.gnu.org/software/m4/&gt;</span><br><span class="line">        &lt;http://www.perl.org/&gt;</span><br><span class="line">make: *** [Makefile:1450：aclocal.m4] 錯誤 127</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><p><strong>Workaround</strong><br>Do <code>autoreconfig -i -f</code> first</p>
</li>
<li><p><strong>Solution</strong><br>Do not build source in the source code folder directoly.We must re-generate source code folder from the dsc file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> hello-2.10/</span><br><span class="line">./configure; make; debuild -us -uc</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Reference</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://iter01.com/649465.html">https://iter01.com/649465.html</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><h3 id="GIT-Repository-URL"><a href="#GIT-Repository-URL" class="headerlink" title="GIT Repository URL"></a>GIT Repository URL</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://git.launchpad.net/~neillee1210/+git/home-test </span><br></pre></td></tr></table></figure>

<h3 id="LaunchPad-PPA-URL"><a href="#LaunchPad-PPA-URL" class="headerlink" title="LaunchPad PPA URL"></a>LaunchPad PPA URL</h3><ul>
<li>Adding this PPA to your system by</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:neillee1210/home-test</span><br><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>

<ul>
<li>Or update PPA URL to system’s software sources.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb https://ppa.launchpadcontent.net/neillee1210/home-test/ubuntu focal main </span><br><span class="line">deb-src https://ppa.launchpadcontent.net/neillee1210/home-test/ubuntu focal main</span><br></pre></td></tr></table></figure>

<h3 id="Output-messages-from-installation-and-testing-sh"><a href="#Output-messages-from-installation-and-testing-sh" class="headerlink" title="Output messages from installation and testing.sh"></a>Output messages from installation and testing.sh</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">neil@neil-nb:~$ sudo apt install hello</span><br><span class="line">正在讀取套件清單... 完成</span><br><span class="line">正在重建相依關係          </span><br><span class="line">正在讀取狀態資料... 完成</span><br><span class="line">下列【新】套件將會被安裝：</span><br><span class="line">  hello</span><br><span class="line">升級 0 個，新安裝 1 個，移除 0 個，有 0 個未被升級。</span><br><span class="line">需要下載 52.3 kB 的套件檔。</span><br><span class="line">此操作完成之後，會多佔用 284 kB 的磁碟空間。</span><br><span class="line">下載:1 http://ppa.launchpad.net/neillee1210/home-test/ubuntu focal/main amd64 hello amd64 2.10-2ubuntu3 [52.3 kB]</span><br><span class="line">取得 52.3 kB 用了 1s (43.9 kB/s)</span><br><span class="line">選取了原先未選的套件 hello。</span><br><span class="line">（讀取資料庫 ... 目前共安裝了 255157 個檔案和目錄。）</span><br><span class="line">正在準備解包 .../hello_2.10-2ubuntu3_amd64.deb……</span><br><span class="line">解開 hello (2.10-2ubuntu3) 中...</span><br><span class="line">設定 hello (2.10-2ubuntu3) ...</span><br><span class="line">this is a <span class="built_in">test</span> from Neil Lee</span><br><span class="line">執行 man-db (2.9.1-1) 的觸發程式……</span><br><span class="line">執行 install-info (6.7.0.dfsg.2-5) 的觸發程式……</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">neil@neil-nb:~$ dpkg -S testing.sh; testing.sh</span><br><span class="line">hello: /usr/bin/testing.sh</span><br><span class="line">this is a <span class="built_in">test</span> from Neil Lee</span><br><span class="line">neil@neil-nb:~$ </span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/04/26/Linux-VSCode-Docker-Markdown-Hexblog/" rel="prev" title="(Linux)(VSCode)(Docker) Visual Studio Code use remote conainter to write markdown blog.">
      <i class="fa fa-chevron-left"></i> (Linux)(VSCode)(Docker) Visual Studio Code use remote conainter to write markdown blog.
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#LaunchPad-amp-Debian-packaging"><span class="nav-number">1.</span> <span class="nav-text">LaunchPad &amp; Debian packaging</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PGP-Pretty-Good-Privacy"><span class="nav-number">1.1.</span> <span class="nav-text">PGP(Pretty Good Privacy)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LaunchPad"><span class="nav-number">1.2.</span> <span class="nav-text">LaunchPad</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DEB"><span class="nav-number">1.3.</span> <span class="nav-text">DEB</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Example"><span class="nav-number">1.4.</span> <span class="nav-text">Example</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GIT-Repository-URL"><span class="nav-number">1.4.1.</span> <span class="nav-text">GIT Repository URL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LaunchPad-PPA-URL"><span class="nav-number">1.4.2.</span> <span class="nav-text">LaunchPad PPA URL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-messages-from-installation-and-testing-sh"><span class="nav-number">1.4.3.</span> <span class="nav-text">Output messages from installation and testing.sh</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Neil Lee</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Neil Lee</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
